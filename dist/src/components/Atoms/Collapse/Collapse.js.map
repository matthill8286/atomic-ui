{"version":3,"file":"Collapse.js","sources":["../../../../../src/components/Atoms/Collapse/Collapse.tsx"],"sourcesContent":["import * as React from 'react'\nimport { css, styled } from '@/styles/styled'\n\nconst StyledCollapse = styled.div<Omit<CollapseProps, 'onClick'>>`\n  ${({ theme, isOpen, collapsedHeight }) =>\n    isOpen\n      ? css`\n          height: auto;\n          overflow: initial;\n        `\n      : css`\n          height: ${collapsedHeight ? `${collapsedHeight}px` : theme.spacing.base.sm};\n          overflow: hidden;\n        `}\n\n  position: relative;\n  cursor: pointer;\n\n  & > * {\n    cursor: pointer;\n  }\n`\n\nexport interface CollapseProps {\n  isOpen?: boolean\n  isControlled?: boolean\n  collapsedHeight?: number\n  onClick?: () => void\n  onChange?: (collapsed: boolean) => void\n}\n\nexport const Collapse: React.FC<CollapseProps> = ({\n  children,\n  isOpen = true,\n  isControlled = false,\n  collapsedHeight = 0,\n  onClick = () => {},\n  onChange = () => {},\n}) => {\n  const [open, setOpen] = React.useState<boolean>(isOpen)\n\n  const previousIsOpen = React.useRef<boolean>(isOpen)\n  React.useEffect(() => {\n    if (isOpen !== previousIsOpen.current && isOpen !== open) {\n      setOpen(isOpen)\n    }\n    previousIsOpen.current = isOpen\n  }, [isOpen, open])\n\n  const handleClick = (event: React.MouseEvent<HTMLElement, MouseEvent>) => {\n    event.stopPropagation()\n    event.preventDefault()\n\n    if (!isControlled) {\n      setOpen(!open)\n    }\n\n    onClick()\n    onChange(!open)\n  }\n\n  return (\n    <StyledCollapse isOpen={open} collapsedHeight={collapsedHeight} onClick={handleClick}>\n      {children}\n    </StyledCollapse>\n  )\n}\n"],"names":["StyledCollapse","styled","div","theme","isOpen","collapsedHeight","css","spacing","base","sm","Collapse","children","isControlled","onClick","onChange","React","useState","open","setOpen","previousIsOpen","useRef","useEffect","current","event","stopPropagation","preventDefault"],"mappings":"sKAGA,IAAMA,EAAiBC,EAAOC,+EAAPD,kEACnB,gBAAGE,IAAAA,MAAOC,IAAAA,OAAQC,IAAAA,uBAClBD,EACIE,qCAIAA,kCACYD,YAAqBA,QAAsBF,EAAMI,QAAQC,KAAKC,OAoBrEC,EAAoC,gBAC/CC,IAAAA,aACAP,OAAAA,oBACAQ,aAAAA,oBACAP,gBAAAA,aAAkB,QAClBQ,QAAAA,aAAU,mBACVC,SAAAA,aAAW,iBAEaC,EAAMC,SAAkBZ,YAAzCa,OAAMC,OAEPC,EAAiBJ,EAAMK,OAAgBhB,GAC7CW,EAAMM,WAAU,WACVjB,IAAWe,EAAeG,SAAWlB,IAAWa,GAClDC,EAAQd,GAEVe,EAAeG,QAAUlB,IACxB,CAACA,EAAQa,WAeVF,gBAACf,GAAeI,OAAQa,EAAMZ,gBAAiBA,EAAiBQ,QAb9C,SAACU,GACnBA,EAAMC,kBACND,EAAME,iBAEDb,GACHM,GAASD,GAGXJ,IACAC,GAAUG,KAKPN"}