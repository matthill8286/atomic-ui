{"version":3,"file":"InputArea.js","sources":["../../../../../src/components/Atoms/Input/InputArea.tsx"],"sourcesContent":["import React, { useState } from 'react'\nimport { CopyText } from '../Typography'\nimport { InputAreaProps, MapStateToColor } from './Input.interface'\nimport { StyledHelpWrapper, StyledInputArea, StyledInputWrapper } from './Input.styled'\nimport { InputDivider } from './InputDivider'\nimport { InputIcon, InputIconState } from './InputIcon'\nimport { InputLabel } from './InputLabel'\n\ntype InputAction = null | 'hover' | 'press' | 'focus'\n\nconst mapStateToColor: MapStateToColor = {\n  idle: 'grey3',\n  valid: 'success',\n  error: 'error',\n  disabled: 'grey2',\n}\n\nconst mapStateToIconState = {\n  valid: 'valid',\n  error: 'error',\n}\n\nexport const InputArea: React.FC<InputAreaProps> = props => {\n  const {\n    className,\n    margin = '',\n    padding = '',\n    inputProps,\n    state = 'idle',\n    label = '',\n    inputStyle = 'default',\n    placeholder = '',\n    autofocus = false,\n    value = '',\n    inputRef,\n    inputIcon,\n    rows,\n    helpText,\n    helper,\n    errorMessage,\n    onMouseEnter,\n    onMouseLeave,\n    onClick,\n    onClickIcon,\n    onBlur,\n    onChange,\n    onKeyUp,\n    onKeyDown,\n    onFocus,\n  } = props\n\n  const [shrink, changeShrink] = useState<boolean>(value !== '')\n  const [action, changeAction] = useState<InputAction>(null)\n\n  const onMouseEnterHandler = (ev: React.MouseEvent<HTMLTextAreaElement>) => {\n    if (!['error', 'disabled'].includes(state)) {\n      changeAction('hover')\n    }\n    if (onMouseEnter) onMouseEnter(ev)\n  }\n\n  const onMouseLeaveHandler = (ev: React.MouseEvent<HTMLTextAreaElement>) => {\n    if (onMouseLeave) onMouseLeave(ev)\n    changeAction(null)\n  }\n\n  const onFocusHandler = (ev: React.FocusEvent<HTMLTextAreaElement>) => {\n    if (onFocus) onFocus(ev)\n    changeShrink(true)\n    changeAction('focus')\n  }\n\n  const onBlurHandler = (ev: React.FocusEvent<HTMLTextAreaElement>) => {\n    if (onBlur) onBlur(ev)\n    if (value === '') {\n      changeShrink(false)\n    }\n    changeAction(null)\n  }\n\n  const onChangeHandler = (ev: React.ChangeEvent<HTMLTextAreaElement>) => {\n    if (onChange) onChange(ev)\n  }\n\n  const onClickHandler = (ev: React.MouseEvent<HTMLTextAreaElement>) => {\n    ev.stopPropagation()\n    if (onClick) onClick(ev)\n  }\n\n  const onClickIconHandler = (ev: React.MouseEvent<HTMLInputElement>) => {\n    ev.stopPropagation()\n    if (onClickIcon) onClickIcon(ev)\n  }\n\n  const showError = state === 'error' && errorMessage\n  const showIcon = state === 'valid' || state === 'error' || inputIcon\n  const color = action ? 'grey5' : mapStateToColor[state]\n  const iconState: InputIconState = mapStateToIconState[state] || 'default'\n\n  const combinedInputProps = {\n    ...inputProps,\n    placeholder: placeholder,\n    autoFocus: autofocus,\n    inputStyle,\n    value,\n    rows,\n    onMouseEnter: onMouseEnterHandler,\n    onMouseLeave: onMouseLeaveHandler,\n    onClick: onClickHandler,\n    onFocus: onFocusHandler,\n    onChange: onChangeHandler,\n    onKeyUp: onKeyUp,\n    onKeyDown: onKeyDown,\n    onBlur: onBlurHandler,\n    disabled: state === 'disabled',\n  }\n\n  return (\n    <StyledInputWrapper className={className} margin={margin} padding={padding}>\n      <InputLabel color={color} label={label} shrink={shrink} inputStyle={inputStyle}>\n        {<StyledInputArea {...combinedInputProps} ref={inputRef} />}\n      </InputLabel>\n\n      {showIcon && (\n        <InputIcon iconState={iconState} icon={inputIcon} onClick={onClickIconHandler} />\n      )}\n\n      {showError && <InputDivider color={color} />}\n\n      {helper && <StyledHelpWrapper inputStyle={inputStyle}>{helper}</StyledHelpWrapper>}\n\n      {helpText && (\n        <StyledHelpWrapper inputStyle={inputStyle}>\n          <CopyText tag=\"span\" fontSize=\"xxs\">\n            {helpText}\n          </CopyText>\n        </StyledHelpWrapper>\n      )}\n\n      {showError && (\n        <StyledHelpWrapper inputStyle={inputStyle}>\n          <CopyText tag=\"span\" color=\"error\" fontSize=\"xxs\">\n            {errorMessage}\n          </CopyText>\n        </StyledHelpWrapper>\n      )}\n    </StyledInputWrapper>\n  )\n}\n\nInputArea.displayName = 'Input'\n"],"names":["mapStateToColor","idle","valid","error","disabled","mapStateToIconState","InputArea","props","className","margin","padding","inputProps","state","label","inputStyle","placeholder","autofocus","value","inputRef","inputIcon","rows","helpText","helper","errorMessage","onMouseEnter","onMouseLeave","onClick","onClickIcon","onBlur","onChange","onKeyUp","onKeyDown","onFocus","useState","shrink","changeShrink","action","changeAction","showError","showIcon","color","iconState","combinedInputProps","autoFocus","ev","includes","stopPropagation","React","StyledInputWrapper","InputLabel","StyledInputArea","ref","InputIcon","icon","InputDivider","StyledHelpWrapper","CopyText","tag","fontSize","displayName"],"mappings":"gcAUA,IAAMA,EAAmC,CACvCC,KAAM,QACNC,MAAO,UACPC,MAAO,QACPC,SAAU,SAGNC,EAAsB,CAC1BH,MAAO,QACPC,MAAO,SAGIG,EAAsC,SAAAC,OAE/CC,EAyBED,EAzBFC,YAyBED,EAxBFE,OAAAA,aAAS,OAwBPF,EAvBFG,QAAAA,aAAU,KACVC,EAsBEJ,EAtBFI,aAsBEJ,EArBFK,MAAAA,aAAQ,WAqBNL,EApBFM,MAAAA,aAAQ,OAoBNN,EAnBFO,WAAAA,aAAa,cAmBXP,EAlBFQ,YAAAA,aAAc,OAkBZR,EAjBFS,UAAAA,kBAiBET,EAhBFU,MAAAA,aAAQ,KACRC,EAeEX,EAfFW,SACAC,EAcEZ,EAdFY,UACAC,EAaEb,EAbFa,KACAC,EAYEd,EAZFc,SACAC,EAWEf,EAXFe,OACAC,EAUEhB,EAVFgB,aACAC,EASEjB,EATFiB,aACAC,EAQElB,EARFkB,aACAC,EAOEnB,EAPFmB,QACAC,EAMEpB,EANFoB,YACAC,EAKErB,EALFqB,OACAC,EAIEtB,EAJFsB,SACAC,EAGEvB,EAHFuB,QACAC,EAEExB,EAFFwB,UACAC,EACEzB,EADFyB,UAG6BC,EAA4B,KAAVhB,YAA1CiB,OAAQC,SACgBF,EAAsB,eAA9CG,QAAQC,QA0CTC,GAAsB,UAAV1B,GAAqBW,EACjCgB,GAAqB,UAAV3B,GAA+B,UAAVA,GAAqBO,EACrDqB,GAAQJ,GAAS,QAAUpC,EAAgBY,GAC3C6B,GAA4BpC,EAAoBO,IAAU,UAE1D8B,UACD/B,OACHI,YAAaA,EACb4B,UAAW3B,EACXF,WAAAA,EACAG,MAAAA,EACAG,KAAAA,EACAI,aApD0B,SAACoB,GACtB,CAAC,QAAS,YAAYC,SAASjC,IAClCyB,GAAa,SAEXb,GAAcA,EAAaoB,IAiD/BnB,aA9C0B,SAACmB,GACvBnB,GAAcA,EAAamB,GAC/BP,GAAa,OA6CbX,QAxBqB,SAACkB,GACtBA,EAAGE,kBACCpB,GAASA,EAAQkB,IAuBrBZ,QA3CqB,SAACY,GAClBZ,GAASA,EAAQY,GACrBT,GAAa,GACbE,GAAa,UAyCbR,SA9BsB,SAACe,GACnBf,GAAUA,EAASe,IA8BvBd,QAASA,EACTC,UAAWA,EACXH,OAzCoB,SAACgB,GACjBhB,GAAQA,EAAOgB,GACL,KAAV3B,GACFkB,GAAa,GAEfE,GAAa,OAqCbjC,SAAoB,aAAVQ,WAIVmC,gBAACC,GAAmBxC,UAAWA,EAAWC,OAAQA,EAAQC,QAASA,GACjEqC,gBAACE,GAAWT,MAAOA,GAAO3B,MAAOA,EAAOqB,OAAQA,EAAQpB,WAAYA,GACjEiC,gBAACG,OAAoBR,IAAoBS,IAAKjC,MAGhDqB,IACCQ,gBAACK,GAAUX,UAAWA,GAAWY,KAAMlC,EAAWO,QAnC7B,SAACkB,GAC1BA,EAAGE,kBACCnB,GAAaA,EAAYiB,MAoC1BN,IAAaS,gBAACO,GAAad,MAAOA,KAElClB,GAAUyB,gBAACQ,GAAkBzC,WAAYA,GAAaQ,GAEtDD,GACC0B,gBAACQ,GAAkBzC,WAAYA,GAC7BiC,gBAACS,GAASC,IAAI,OAAOC,SAAS,OAC3BrC,IAKNiB,IACCS,gBAACQ,GAAkBzC,WAAYA,GAC7BiC,gBAACS,GAASC,IAAI,OAAOjB,MAAM,QAAQkB,SAAS,OACzCnC,MAQbjB,EAAUqD,YAAc"}