import{objectWithoutProperties as o,slicedToArray as n}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import e,{useRef as r,useState as t,useCallback as l,useEffect as i}from"react";import{useInView as u}from"../../../../node_modules/react-intersection-observer/react-intersection-observer.m.js";import{StyledVideoWrapper as a,StyledVideoPlayer as d}from"./VideoPlayer.styled.js";import{SkeletonBlockItem as c}from"../Skeleton/SkeletonBlockItem.js";var v=function(v){v.title;var s=v.videoId,m=void 0===s?"player-core":s,p=v.width,f=void 0===p?"100%":p,h=v.height,g=void 0===h?"100%":h,y=v.url,P=v.pip,E=void 0!==P&&P,b=v.controls,k=void 0===b||b,S=v.light,j=void 0!==S&&S,w=v.loop,x=void 0!==w&&w,D=v.loading,H=v.playbackRate,I=void 0===H?1:H,R=v.playing,_=v.volume,B=void 0===_?.6:_,O=v.muted,T=void 0!==O&&O;v.allowfullscreen;var U=v.rounded,A=void 0!==U&&U;v.stopOnUnmount,v.maxHeight;var V=v.onStart,W=v.onPause,q=v.onPlay,z=v.onError,C=v.onEnded,F=v.onProgress,G=v.onDuration;if(v.children,o(v,["title","videoId","width","height","url","pip","controls","light","loop","loading","playbackRate","playing","volume","muted","allowfullscreen","rounded","stopOnUnmount","maxHeight","onStart","onPause","onPlay","onError","onEnded","onProgress","onDuration","children"]),D)return e.createElement(c,{height:"350px"});var J=r(null),K=t(null),L=n(K,2),M=L[0];L[1];var N=u({threshold:.3}),Q=n(N,2),X=Q[0],Y=Q[1],Z=t(!1),$=n(Z,2),oo=$[0],no=$[1],eo="video-player-container-".concat(m),ro=l((function(o){return null==V?void 0:V(o)}),[]);l((function(o){return null==C?void 0:C(o)}),[]);var to=l((function(o){return null==q?void 0:q(o)}),[]),lo=l((function(o){return null==G?void 0:G(o)}),[]),io=l((function(o){return null==W?void 0:W(o)}),[]),uo=l((function(o){null==F||F(o)}),[]),ao=l((function(o){return null==z?void 0:z(o)}),[]);return i((function(){null==M||M.onStart((function(){oo||no(!0)}))}),[M]),i((function(){var o;(null===document.fullscreenElement||!0!==document.fullscreenElement&&void 0===(null===(o=document.fullscreenElement)||void 0===o?void 0:o.canPlayType))&&oo&&!Y&&(null==M||M.stop())}),[Y]),e.createElement(a,{aspect:"16/9",ref:J},e.createElement(d,{id:eo,width:f,ref:M,height:g,url:y,pip:E,playing:R,controls:k,rounded:null!=A?A:void 0,light:j,loop:x,playbackRate:I,volume:B,muted:T,onStart:ro,onPlay:to,onPause:io,onProgress:uo,onError:ao,onDuration:lo}),e.createElement("div",{id:eo,ref:X}))};export{v as VideoPlayerCore};
//# sourceMappingURL=VideoPlayerCore.js.map
