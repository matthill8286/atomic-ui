{"version":3,"file":"Scrollbar.js","sources":["../../../../../src/components/Molecules/ScrollSnapSlider/Scrollbar.tsx"],"sourcesContent":["import React from 'react'\nimport { StyledScrollbar } from './ScrollSnapSlider.styled'\n\nexport const Scrollbar: React.FC<{\n  sliderRef?: React.RefObject<HTMLDivElement>\n}> = ({ sliderRef }) => {\n  const [handlePositionLeft, setHandlePositionLeft] = React.useState('0%')\n  const [handleWidth, setHandleWidth] = React.useState('0%')\n  const [isSliderScrollable, setIsSliderScrollable] = React.useState(false)\n\n  const onSliderScroll = React.useCallback(async () => {\n    const scrollLeft = sliderRef?.current?.scrollLeft || 0\n    const scrollWidth = sliderRef?.current?.scrollWidth || 0\n\n    setHandlePositionLeft(`${100 * (scrollLeft / (scrollWidth || 1))}%`)\n\n    const clientWidth = sliderRef?.current?.clientWidth || 0\n    const newHandleWidth = `${100 * (clientWidth / (scrollWidth || 1))}%`\n\n    setHandleWidth(current => (newHandleWidth !== current ? newHandleWidth : current))\n\n    setIsSliderScrollable(current => {\n      if (scrollWidth > clientWidth + 1) {\n        if (!current) return true\n      } else if (current) {\n        return false\n      }\n      return current\n    })\n  }, [sliderRef])\n\n  React.useEffect(() => {\n    sliderRef?.current?.removeEventListener('scroll', onSliderScroll)\n    sliderRef?.current?.addEventListener('scroll', onSliderScroll)\n    onSliderScroll()\n\n    return () => sliderRef?.current?.removeEventListener('scroll', onSliderScroll)\n  }, [onSliderScroll, sliderRef])\n\n  if (!isSliderScrollable) return null\n\n  return (\n    <StyledScrollbar isSliderScrollable={isSliderScrollable}>\n      <span style={{ left: handlePositionLeft, width: handleWidth }} />\n    </StyledScrollbar>\n  )\n}\n"],"names":["Scrollbar","sliderRef","React","useState","handlePositionLeft","setHandlePositionLeft","handleWidth","setHandleWidth","isSliderScrollable","setIsSliderScrollable","onSliderScroll","useCallback","scrollLeft","current","scrollWidth","clientWidth","newHandleWidth","useEffect","removeEventListener","addEventListener","_sliderRef$current6","StyledScrollbar","style","left","width"],"mappings":"gMAGaA,EAER,gBAAGC,IAAAA,YAC8CC,EAAMC,SAAS,eAA5DC,OAAoBC,SACWH,EAAMC,SAAS,eAA9CG,OAAaC,SACgCL,EAAMC,UAAS,YAA5DK,OAAoBC,OAErBC,EAAiBR,EAAMS,uCAAY,+GACjCC,GAAaX,MAAAA,aAAAA,EAAWY,8BAASD,aAAc,EAC/CE,GAAcb,MAAAA,aAAAA,EAAWY,8BAASC,cAAe,EAEvDT,YAAgCO,GAAcE,GAAe,GAApC,UAEnBC,GAAcd,MAAAA,aAAAA,EAAWY,8BAASE,cAAe,EACjDC,YAA2BD,GAAeD,GAAe,GAArC,SAE1BP,GAAe,SAAAM,UAAYG,IAAmBH,EAAUG,EAAiBH,KAEzEJ,GAAsB,SAAAI,MAChBC,EAAcC,EAAc,OACzBF,EAAS,OAAO,OAChB,GAAIA,SACF,SAEFA,gDAER,CAACZ,WAEJC,EAAMe,WAAU,0BACdhB,MAAAA,aAAAA,EAAWY,wBAASK,oBAAoB,SAAUR,GAClDT,MAAAA,aAAAA,EAAWY,wBAASM,iBAAiB,SAAUT,GAC/CA,IAEO,wBAAMT,MAAAA,aAAAA,EAAWY,4BAAXO,EAAoBF,oBAAoB,SAAUR,MAC9D,CAACA,EAAgBT,IAEfO,EAGHN,gBAACmB,GAAgBb,mBAAoBA,GACnCN,wBAAMoB,MAAO,CAAEC,KAAMnB,EAAoBoB,MAAOlB,MAJpB"}