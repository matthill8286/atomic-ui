import{slicedToArray as e}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import t from"react";import{StyledSearchableDropdownWrapper as n,StyledList as r}from"./Dropdown.styled.js";import{DropdownOption as o}from"./DropdownOption.js";import{Input as a}from"../../Atoms/Input/Input.js";import i from"../../../../node_modules/@excelwithbusiness/webmobile-svg-library/dist/components/icon/IconShare.js";var l=function(l){var c=l.className,u=l.index,s=l.inputValue,m=l.initializeOpen,p=void 0!==m&&m,f=l.label,d=l.errorMessage,v=l.options,b=void 0===v?[]:v,g=l.onSelectChange,E=l.onInputChange,h=t.useRef(null),w=t.useState(p),y=e(w,2),C=y[0],S=y[1],j=t.useState(b),I=e(j,2),k=I[0],x=I[1],L=function(e){var t;null!==(t=h.current)&&void 0!==t&&t.contains(e.target)||S(!1)};t.useEffect((function(){return document.addEventListener("click",L,!0),function(){document.removeEventListener("click",L,!0)}}));return t.createElement(n,{className:c,ref:h},t.createElement(a,{state:d?"error":"idle",errorMessage:d,label:f,value:s,onFocus:function(){S(!0)},onChange:function(e){var t=e.target.value;x(t?b.filter((function(e){return e.label.toLowerCase().includes(t.toLowerCase())})):b),E(e)},inputIcon:t.createElement(i,null),inputType:"text"}),t.createElement(r,{active:C,isSearchable:!0},k.map((function(e,n){return t.createElement(o,{key:n,active:n===u,label:e.label,onClick:function(){return function(e,t){S(!1),g(e,t)}(e,n)}})}))))};l.displayName="SearchableDropdown";export{l as SearchableDropdown};
//# sourceMappingURL=SearchableDropdown.js.map
