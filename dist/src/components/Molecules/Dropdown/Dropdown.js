import{slicedToArray as e,extends as t}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import o,{useState as r}from"react";import{StyledContainer as n,StyledDropdown as l,StyledTypo as i,StyledIcon as a,StyledList as m,StyledFieldWrapper as c,StyledDropdownSelect as d}from"./Dropdown.styled.js";import{DropdownOption as s}from"./DropdownOption.js";import{withDropdownState as p}from"../../Helper/withDropdownState/withDropdownState.js";import{CopyText as u}from"../../Atoms/Typography/CopyText/CopyText.js";import h from"../../../../node_modules/@excelwithbusiness/webmobile-svg-library/dist/components/styleguide/StyleguideArrow.js";import f from"../../../../node_modules/@excelwithbusiness/webmobile-svg-library/dist/components/icon/IconArrow.js";var g=p((function(p){var g=p.autoComplete,w=p.initialIndex,b=p.label,y=p.listType,v=void 0===y?"custom":y,E=p.onChange,x=p.placeholder,C=p.options,j=void 0===C?[]:C,D=p.showDropdown,k=p.toggleDropdown,T=p.withBackground,B=p.noBorder,S=-1,A=j.length-1;(0===w||w)&&w>=0&&w<=A&&(S=w);var _=r(S),H=e(_,2),I=H[0],L=H[1],z=r((function(){return-1!==I})),N=e(z,2),O=N[0],P=N[1],q=function(e){return function(){L(e),P(!0),E&&E(e)}},F=j.find((function(e,t){return t===I}));return o.createElement(n,{onClick:k},b&&o.createElement(u,{tag:"label",color:O?"grey5":"grey4","data-label-filled":O},b),"custom"===v?o.createElement(l,{hasLabel:!!b,withBackground:T},o.createElement(i,{fontSize:"sm",limitLines:1,lineHeight:"sm",tag:"span"},-1!==I?j[I].label:x),o.createElement(a,{rotate:D?-90:90},o.createElement(h,{width:"md",height:"md"})),o.createElement(m,{active:!!D,isSearchable:!1},j.map((function(e,t){return o.createElement(s,{key:t,active:t===I,label:e.label,onClick:q(t)})})))):o.createElement(c,{noBorder:B,hasLabel:!!b},o.createElement(d,t({listType:v,onChange:function(e){var t=j.findIndex((function(t){return t.id===e.target.value}));-1!==t&&q(t)()}},null!=F&&F.id?{value:F.id}:{},g?{autoComplete:g}:{}),j.map((function(e,t){return o.createElement("option",{key:e.id||"dropdown-".concat(t),value:e.id},e.label)}))),o.createElement(a,{width:16,height:16,rotate:90},o.createElement(f,null))))}),{displayName:"Dropdown"});export{g as Dropdown};
//# sourceMappingURL=Dropdown.js.map
