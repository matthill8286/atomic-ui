import{slicedToArray as e}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import t from"react";import{StyledSearchDropdownWrapper as r,StyledSearchList as n}from"./SearchDropdown.styled.js";import{SearchDropdownOption as o}from"./SearchDropdownOption.js";import{SearchButton as a}from"../SearchButton/SearchButton.js";import c from"../../../../node_modules/@excelwithbusiness/webmobile-svg-library/dist/components/icon/IconSearch.js";var l=function(l){var i=l.className,u=l.index,s=l.inputValue,m=l.initializeOpen,p=void 0!==m&&m,d=l.errorMessage,f=l.options,v=void 0===f?[]:f,h=l.searchPlaceholder,S=l.onSelectChange,b=l.onInputChange,g=t.useRef(null),y=t.useState(p),E=e(y,2),w=E[0],C=E[1],j=t.useState(v),k=e(j,2),x=k[0],L=k[1],B=function(e){var t;null!==(t=g.current)&&void 0!==t&&t.contains(e.target)||C(!1)};t.useEffect((function(){return document.addEventListener("click",B,!0),function(){document.removeEventListener("click",B,!0)}}));return t.createElement(t.Fragment,null,t.createElement(r,{className:i,ref:g},t.createElement(a,{placeholder:h,state:d?"error":"idle",errorMessage:d,value:s,onFocus:function(){C(!0)},onChange:function(e){var t=e.target.value;L(t?v.filter((function(e){var r;return null==e||null===(r=e.label)||void 0===r?void 0:r.toLowerCase().includes(t.toLowerCase())})):v),b(e)},searchIcon:t.createElement(c,null),searchType:"text"})),t.createElement(n,{active:w,isSearchable:!0},x?x.map((function(e,r){return t.createElement(o,{key:"SearchOption-".concat(e.label,"|").concat(r),active:r===u,label:e.label,provider:e.provider,type:e.type,competency:e.competency,onClick:function(){return function(e,t){C(!1),S(e,t)}(e,r)}})})):null))};l.displayName="SearchDropdown";export{l as SearchDropdown};
//# sourceMappingURL=SearchDropdown.js.map
