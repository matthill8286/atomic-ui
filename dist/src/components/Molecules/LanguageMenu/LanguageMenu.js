import{slicedToArray as e}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import t,{useState as n,useRef as o,useEffect as r}from"react";import{StyledContainer as a,StyledDropdown as i}from"../DropdownButton/DropdownButton.js";import{LanguageButton as l}from"./LanguageButton.js";import{LanguageMenuList as u}from"./LanguageMenuList.js";import{useDropdownState as s}from"../../Helper/useDropdownState/useDropdownState.js";import d from"../../../../node_modules/@excelwithbusiness/webmobile-svg-library/dist/components/styleguide/StyleguideGlobeThin.js";var c=function(c){var m=c.className,p=c.languages,g=void 0===p?[]:p,f=c.testIdSuffix,v=c.extendedLanguageHandler,w=c.setupCurrentIndex,b=void 0===w?-1:w,D=c.isMobile,E=void 0!==D&&D,j=s(),x=j.element,L=j.toggleDropdown,h=j.showDropdown,y=n(b),k=e(y,2),B=k[0],I=k[1],S=o(null),C=function(e){var t;null!==(t=S.current)&&void 0!==t&&t.contains(e.target)||!h||L()};r((function(){return document.addEventListener("click",C),function(){document.removeEventListener("click",C)}}));var H=t.createElement(u,{languages:g,onClick:function(e,t){h&&L(),I(e),v&&v(t)},currentIndex:B});return t.createElement(a,{className:m,ref:x,"data-test":"language-dropdown-".concat(f)},t.createElement(l,{"data-test":"ewb-app-header-language-button",onClick:function(){L()},isOpen:h,primaryIcon:t.createElement(d,null)}),t.createElement(i,{isMobile:E,showDropdown:h},H))};export{c as LanguageMenu};
//# sourceMappingURL=LanguageMenu.js.map
