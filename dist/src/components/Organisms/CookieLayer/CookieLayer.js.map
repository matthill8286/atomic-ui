{"version":3,"file":"CookieLayer.js","sources":["../../../../../src/components/Organisms/CookieLayer/CookieLayer.tsx"],"sourcesContent":["import * as React from 'react'\nimport { Button, ButtonProps } from '@/components/Atoms/Button'\nimport { Heading } from '@/components/Atoms/Typography'\nimport { CopyText } from '@/components/Atoms/Typography/CopyText'\nimport { Cell, Grid, Row } from '@/components/Helper/Grid'\nimport { css, styled } from '@/styles/styled'\nimport { useWindowDimensions } from '@/components/Helper'\nimport { breakpoints, media } from '@/styles'\n\nconst StyledCookieWrapper = styled.div<{ position: string }>`\n  position: ${({ position }) => position};\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  z-index: 200;\n  box-sizing: border-box;\n\n  & a {\n    color: ${({ theme }) => theme.color.grey5};\n\n    :hover {\n      color: ${({ theme }) => theme.color.primary};\n    }\n  }\n`\n\nconst StyledButton = styled(Button)`\n  display: inline-flex;\n  flex-flow: column;\n  margin-right: ${({ theme }) => theme.spacing.base.md};\n\n  ${media.maxSm} {\n    margin: ${({ theme }) => theme.spacing.base.xs} 0;\n  }\n`\n\nexport type CookieButtonGroupAlignment = 'space-between' | 'right' | 'center'\n\nexport interface CookieButtonProps extends ButtonProps {\n  onClick?: () => void\n  buttonLabel?: string | React.ReactNode\n  href?: string\n}\n\nexport interface CookieButtonGroupProps {\n  className?: string\n  key?: string\n  buttonAlignment?: CookieButtonGroupAlignment\n  buttonWidth?: number\n  primaryButtonProps?: CookieButtonProps\n  secondaryButtonProps?: CookieButtonProps\n  showButtonSeparator?: boolean\n}\n\nconst StyledCookieFooter = styled.div<CookieButtonGroupProps>`\n  ${({ showButtonSeparator, theme, buttonAlignment: buttonType }) => css`\n    border-top: 1px solid ${showButtonSeparator ? theme.color.grey2 : `transparent`};\n    padding-top: ${({ theme }) => theme.spacing.base.lg};\n    width: 100%;\n    display: flex;\n    flex-direction: row;\n\n    ${buttonType === 'space-between' &&\n      `\n      justify-content: space-between;\n    `}\n\n    ${buttonType === 'right' &&\n      `\n      justify-content: flex-end;\n    `}\n\n    ${buttonType === 'center' &&\n      `\n      justify-content: center;\n      width: 100%;\n      margin: 0 auto;\n    `}\n\n    ${media.maxSm} {\n      flex-direction: column-reverse;\n    }\n  `}\n`\n\nconst StyledCookieFooterPrimary = styled.div<CookieButtonGroupProps>`\n  ${({ buttonAlignment: buttonType }) =>\n    buttonType === 'space-between' &&\n    `\n    text-align: right;\n    `}\n  ${({ buttonAlignment: buttonType }) =>\n    buttonType === 'right' &&\n    `\n    text-align: right;\n    `}\n    ${({ buttonAlignment: buttonType, buttonWidth, theme }) =>\n      buttonType === 'center'\n        ? `\n      margin: 0 auto 0;\n      width: ${typeof buttonWidth === 'number' ? `${buttonWidth}px ` : '100%'}\n    `\n        : `\n      margin: 0 ${theme.spacing.base.md}\n    `}\n`\nconst StyledCookieFooterSecondary = styled.div<CookieButtonGroupProps>`\n  ${({ theme, buttonAlignment: buttonType }) => css`\n    ${buttonType === 'right' &&\n      `\n      margin-right: ${theme.spacing.base.md};\n    `}\n\n    ${\n      buttonType === 'center'\n        ? `\n      margin: 0 ${theme.spacing.base.xs} 0 auto;\n       width: 100%;\n    `\n        : `\n      margin: 0 ${theme.spacing.base.md}\n    `\n    }\n\n    ${media.maxSm} {\n      margin-top: ${({ theme }) => theme.spacing.base.sm};\n      margin-right: 0;\n    }\n  `}\n`\n\nconst StyledCookieFooterButton = styled(Button)`\n  width: 100%;\n  margin: 0 auto;\n  max-width: 400px;\n  ${media.maxSm} {\n    width: 100%;\n  }\n`\n\ninterface CookieLayerProps {\n  position: string\n  mainContent?: any\n  buttonAlignment?: CookieButtonGroupAlignment\n  buttonWidth?: number\n  primaryButtonProps?: CookieButtonProps\n  secondaryButtonProps?: CookieButtonProps\n  showButtonSeparator?: boolean\n}\n\nexport const CookieButtonGroup: React.FC<CookieButtonGroupProps> = ({\n  buttonAlignment = 'space-between',\n  primaryButtonProps,\n  secondaryButtonProps,\n  buttonWidth,\n  showButtonSeparator = true,\n}): JSX.Element => {\n  if (!primaryButtonProps && !secondaryButtonProps) {\n    return <React.Fragment />\n  }\n\n  const handleClick = (method?: () => void) => (ev?: React.MouseEvent) => {\n    if (ev) ev.stopPropagation()\n    if (method) method()\n  }\n\n  return (\n    <StyledCookieFooter\n      showButtonSeparator={showButtonSeparator}\n      buttonAlignment={buttonAlignment}\n      data-test=\"filtered-modal-footer-buttons\">\n      {secondaryButtonProps && (\n        <StyledCookieFooterSecondary buttonAlignment={buttonAlignment}>\n          <StyledCookieFooterButton\n            actionType=\"secondary\"\n            data-test={'filtered-secondary-modal-footer-buttons'}\n            onClick={\n              secondaryButtonProps.onClick ? handleClick(secondaryButtonProps.onClick) : undefined\n            }\n            {...secondaryButtonProps}>\n            {secondaryButtonProps.buttonLabel}\n          </StyledCookieFooterButton>\n        </StyledCookieFooterSecondary>\n      )}\n      {primaryButtonProps && (\n        <StyledCookieFooterPrimary buttonAlignment={buttonAlignment} buttonWidth={buttonWidth}>\n          <StyledCookieFooterButton\n            actionType=\"primary\"\n            fullWidth={!!buttonWidth}\n            data-test=\"filtered-primary-modal-footer-buttons\"\n            onClick={\n              primaryButtonProps.onClick ? handleClick(primaryButtonProps.onClick) : undefined\n            }\n            {...primaryButtonProps}>\n            {primaryButtonProps.buttonLabel}\n          </StyledCookieFooterButton>\n        </StyledCookieFooterPrimary>\n      )}\n    </StyledCookieFooter>\n  )\n}\n\nexport const CookieLayer: React.FC<CookieLayerProps> = ({\n  position = 'fixed',\n  mainContent,\n  buttonAlignment = 'space-between',\n  primaryButtonProps,\n  secondaryButtonProps,\n  showButtonSeparator,\n  ...otherProps\n}) => {\n  const { breakpoint: currentBreakpoint } = useWindowDimensions()\n  const isMobile = currentBreakpoint < breakpoints.sm\n\n  return (\n    <StyledCookieWrapper position={position} {...otherProps}>\n      <Grid>\n        <Row noMargin>\n          <Cell columns={12}>\n            {mainContent}\n            <CookieButtonGroup\n              primaryButtonProps={primaryButtonProps}\n              secondaryButtonProps={secondaryButtonProps}\n              buttonAlignment={buttonAlignment}\n              showButtonSeparator={showButtonSeparator}\n            />\n          </Cell>\n        </Row>\n      </Grid>\n    </StyledCookieWrapper>\n  )\n}\n"],"names":["StyledCookieWrapper","styled","div","position","theme","color","grey5","primary","Button","spacing","base","md","media","maxSm","xs","StyledCookieFooter","showButtonSeparator","buttonType","buttonAlignment","css","grey2","lg","StyledCookieFooterPrimary","buttonWidth","StyledCookieFooterSecondary","sm","StyledCookieFooterButton","CookieButtonGroup","primaryButtonProps","secondaryButtonProps","React","Fragment","handleClick","method","ev","stopPropagation","actionType","onClick","undefined","buttonLabel","fullWidth","CookieLayer","mainContent","otherProps","useWindowDimensions","breakpoint","breakpoints","Grid","Row","noMargin","Cell","columns"],"mappings":"mlBASA,IAAMA,EAAsBC,EAAOC,uFAAPD,kHACd,qBAAGE,YAQJ,qBAAGC,MAAkBC,MAAMC,SAGzB,qBAAGF,MAAkBC,MAAME,WAKrBN,EAAOO,+EAAPP,+EAGH,qBAAGG,MAAkBK,QAAQC,KAAKC,KAEhDC,EAAMC,OACI,qBAAGT,MAAkBK,QAAQC,KAAKI,MAsBhD,IAAMC,EAAqBd,EAAOC,sFAAPD,UACvB,gBAAGe,IAAAA,oBAAqBZ,IAAAA,MAAwBa,IAAjBC,uBAAkCC,0IACzCH,EAAsBZ,EAAMC,MAAMe,qBAC3C,qBAAGhB,MAAkBK,QAAQC,KAAKW,KAKhC,kBAAfJ,mDAKe,UAAfA,8CAKe,WAAfA,uFAOAL,EAAMC,UAMNS,EAA4BrB,EAAOC,6FAAPD,kBAC9B,kBACe,oBADZiB,qDAKH,kBACe,YADZA,qDAKD,gBAAoBD,IAAjBC,gBAA6BK,IAAAA,YAAanB,IAAAA,YAC9B,WAAfa,oDAGgC,iBAAhBM,YAA8BA,SAAmB,6CAGrDnB,EAAMK,QAAQC,KAAKC,gBAG/Ba,EAA8BvB,EAAOC,+FAAPD,UAChC,gBAAGG,IAAAA,MAAwBa,IAAjBC,uBAAkCC,kDAC3B,UAAfF,mCAEgBb,EAAMK,QAAQC,KAAKC,cAIpB,WAAfM,8BAEYb,EAAMK,QAAQC,KAAKI,sEAInBV,EAAMK,QAAQC,KAAKC,aAI/BC,EAAMC,OACQ,qBAAGT,MAAkBK,QAAQC,KAAKe,SAMhDC,EAA2BzB,EAAOO,2FAAPP,+DAI7BW,EAAMC,OAeGc,EAAsD,oBACjET,gBAAAA,aAAkB,kBAClBU,IAAAA,mBACAC,IAAAA,qBACAN,IAAAA,gBACAP,oBAAAA,oBAEKY,IAAuBC,SACnBC,gBAACA,EAAMC,mBAGVC,EAAc,SAACC,UAAwB,SAACC,GACxCA,GAAIA,EAAGC,kBACPF,GAAQA,aAIZH,gBAACf,GACCC,oBAAqBA,EACrBE,gBAAiBA,cACP,iCACTW,GACCC,gBAACN,GAA4BN,gBAAiBA,GAC5CY,gBAACJ,KACCU,WAAW,wBACA,0CACXC,QACER,EAAqBQ,QAAUL,EAAYH,EAAqBQ,cAAWC,GAEzET,GACHA,EAAqBU,cAI3BX,GACCE,gBAACR,GAA0BJ,gBAAiBA,EAAiBK,YAAaA,GACxEO,gBAACJ,KACCU,WAAW,UACXI,YAAajB,cACH,wCACVc,QACET,EAAmBS,QAAUL,EAAYJ,EAAmBS,cAAWC,GAErEV,GACHA,EAAmBW,gBAQnBE,EAA0C,oBACrDtC,SAAAA,aAAW,UACXuC,IAAAA,gBACAxB,gBAAAA,aAAkB,kBAClBU,IAAAA,mBACAC,IAAAA,qBACAb,IAAAA,oBACG2B,sHAEuCC,IAAlCC,kBAC6BC,EAAYrB,GAG/CK,gBAAC9B,KAAoBG,SAAUA,GAAcwC,GAC3Cb,gBAACiB,OACCjB,gBAACkB,GAAIC,aACHnB,gBAACoB,GAAKC,QAAS,IACZT,EACDZ,gBAACH,GACCC,mBAAoBA,EACpBC,qBAAsBA,EACtBX,gBAAiBA,EACjBF,oBAAqBA"}