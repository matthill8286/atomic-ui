import{slicedToArray as e,extends as i,objectSpread2 as o}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import t,{useState as r}from"react";import{ClippingWrapper as s,StyledHeading as n,StyledTileWrapper as l}from"./LazyAssetCarousel.styled.js";import{useBadges as a}from"./useBadges.js";import{AssetTileLayout as d}from"../AssetTile/AssetTile.interface.js";import{SimpleCarousel as u}from"../../Molecules/SimpleCarousel/SimpleCarousel.js";import{AssetTile as v}from"../AssetTile/AssetTile.js";import{useWindowDimensions as c}from"../../Helper/useWindowDimensions/useWindowDimensions.js";import{breakpoints as f}from"../../../styles/sc-vars-global.js";var m=function(m){var g=m.loading,p=void 0===g||g,h=m.lazyLoad,w=void 0===h||h,k=m.assets,S=void 0===k?[]:k,y=m.context,b=void 0===y?"homepage-asset-carousel":y,C=m.withOverflow,x=void 0===C||C,A=m.withPadding,L=void 0===A||A,T=m.hideLeftOverflow,P=void 0!==T&&T,j=m.arrows,B=void 0===j||j,O=m.brightArrows,W=void 0===O||O,z=m.dots,D=void 0===z||z,E=m.title,N=m.smallSlides,I=void 0===N?1:N,V=m.mediumSlides,F=void 0===V?2:V,H=m.largeSlides,M=void 0===H?4:H,_=m.smallConfig,q=void 0===_?{}:_,G=m.mediumConfig,J=void 0===G?{}:G,K=m.largeConfig,Q=void 0===K?{}:K,R=m.showBookmark,U=void 0===R||R,X=m.showSkills,Y=void 0===X||X,Z=m.showProvider,$=m.showLock,ee=void 0!==$&&$,ie=m.fixedWidth,oe=m.tileWidth,te=m.playlistOrientation,re=void 0===te?"portrait":te,se=m.playlistView,ne=void 0===se?"list":se,le=m.playlistLayout,ae=void 0===le?d.gridItem:le,de=m.strategyType,ue=void 0===de?void 0:de,ve=m.videoFallbackImage,ce=m.renderAddToBookmarkButton,fe=m.onAssetClick,me=void 0===fe?function(){return null}:fe,ge=m.onLockClick,pe=void 0===ge?function(){return null}:ge,he=m.onSlideChange,we=void 0===he?function(){return null}:he,ke=m.customSlickSettings,Se=c().breakpoint,ye=r(0),be=e(ye,2),Ce=be[0],xe=be[1],Ae=r(!1),Le=e(Ae,2),Te=Le[0],Pe=Le[1];if(!S)return null;var je,Be,Oe,We=Se>=f.lg?M:Se>=f.md?F:I,ze=Se>=f.lg?Q:Se>=f.md?J:q,De=function(e){var i;return null!==(i=e.arrows)&&void 0!==i?i:B},Ee=function(e){var i;return null!==(i=e.dots)&&void 0!==i?i:D},Ne=function(e){return function(i,o,t,r){Te?i.preventDefault():null==pe||pe({asset:o,index:t,assetsPerSlide:e,pageNumber:r,context:b})}},Ie={showBadges:!0,loading:p,isCompact:!1,fontSize:"xs",withEllipsis:!0};return t.createElement(s,{hideLeft:(Be=ze,null!==(Oe=Be.hideLeftOverflow)&&void 0!==Oe?Oe:P)},E?t.createElement(n,null,E):null,t.createElement(u,i({tileWidth:oe,fixedWidth:ie,sliderSettings:o(o({},function(e){return o({infinite:!1,speed:250,initialSlide:0,dots:Ee(e),arrows:De(e),beforeChange:function(e,i){e!==i&&Pe(!0)}},ke)}(ze)),{},{afterChange:function(e){return(i=We,function(e){return function(o){Pe(!1);var t=e>Ce?"Next":"Previous",r=e/i+1,s=o.length/i;xe(e);var n=o.slice(r*i,r*i+i);null==we||we({assets:n,direction:t,assetAmount:i,pageNumber:r,context:b,numberOfPages:s})}})(e)(S);var i},slidesToShow:We,slidesToScroll:We}),items:S,renderSlide:(je=We,function(e,o){var r=Math.floor(o/je),s=!x&&!e.description,n=a({asset:e,playlistView:ne}),d=Ie.loading||s;return t.createElement(l,{key:o,withLabels:!0},t.createElement(v,i({},Ie,{showProvider:Z,showSkills:Y,assetIndex:r,isDisabled:null==e?void 0:e.locked,videoFallbackImage:ve,isCollection:"collection"===ne,orientation:re,badges:n,sponsoringDetails:void 0,showBookmark:U,showLock:ee,assetView:ne,fontSize:"sm",strategyType:ue,renderAddToBookmarkButton:ce,onClick:function(i){return function(e){return function(i,o,t,r){Te?i.preventDefault():me({asset:o,index:t,assetsPerSlide:e,pageNumber:r,context:b})}}(je)(i,e,o,r)},onLockClick:function(i){return Ne(je)(i,e,o,r)},loading:d,layout:ae,asset:e,lazyLoad:w})))})},function(e){var i,o;return{hasOverflow:null!==(i=e.withOverflow)&&void 0!==i?i:x,hasPadding:null!==(o=e.withPadding)&&void 0!==o?o:L,fixedWidth:ie,brightArrows:W}}(ze))))};m.displayName="LazyAssetCarousel";export{m as LazyAssetCarousel};
//# sourceMappingURL=LazyAssetCarousel.js.map
