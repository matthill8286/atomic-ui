import{objectWithoutProperties as e,objectSpread2 as o,extends as t}from"../../../../_virtual/_rollupPluginBabelHelpers.js";import i,{useRef as l}from"react";import{useHistory as n}from"react-router-dom";import{AssetLocked as r}from"./elements/AssetLocked.js";import{StyledTile as a,StyledResponsiveContainer as s,isPortrait as d,StyledDivider as m,StyledContentContainer as c,StyledHeadingContainer as u,StyledAdditionalContent as p}from"./AssetTile.styled.js";import{AssetStrategy as v,AssetTileLayout as g}from"./AssetTile.interface.js";import{getMetaItemList as h}from"./helpers/icons.js";import{AssetSponsoring as f}from"./elements/AssetSponsoring.js";import{StyledBookmarkPlaceholder as k}from"./elements/BookmarkPlaceholder.js";import{AssetCard as w}from"./elements/AssetCard.js";import{AssetImage as y}from"./elements/AssetImage.js";import{AssetFeatured as C}from"./elements/AssetFeatured.js";import{AssetSchedule as b}from"./elements/AssetSchedule.js";import{AssetTileContent as L}from"./elements/AssetTileContent.js";import{ShowMore as A}from"../../Atoms/ShowMore/ShowMore.js";import{AssetTileMeta as x}from"./elements/AssetTileMeta.js";import{CopyText as T}from"../../Atoms/Typography/CopyText/CopyText.js";var E=function(E){var S,j;E.badgeActionType,E.assetView;var B=E.strategyType,M=void 0===B?v.none:B,O=E.children;E.color,E.elevation;var H=E.elevationHover,D=void 0===H?0:H,P=E.isCollection,z=E.isOpenAsset,I=void 0!==z&&z;E.headlineLimitLines;var F=E.limitContentLines,V=void 0===F?2:F,W=E.assetSponsoring;E.icon;var N=E.mainLink,Q=E.badges;E.competencyLabel,E.showBadges;var _=E.showBookmark,q=void 0===_||_,G=E.showLock,J=void 0!==G&&G,K=E.showSkills,R=void 0===K||K,U=E.showAssetMeta,X=void 0===U||U,Y=E.showProvider,Z=void 0===Y||Y,$=E.showFeatured,ee=void 0!==$&&$,oe=E.isDisabled,te=E.noBorder;E.lazyloadLowQuality;var ie=E.layout;void 0===ie&&g.gridItem;var le=E.loading,ne=void 0!==le&&le;E.sponsoringDetails;var re=E.asset,ae=E.renderAddToBookmarkButton,se=E.showMoreText,de=E.showLessText,me=E.showMoreNumOfLines,ce=E.showMoreAlignment,ue=E.fadeOutColor,pe=E.lazyLoad,ve=E.roundImages,ge=E.onClick;E.onCompleteClick,E.onPictureClick,E.onHeadingClick;var he=E.onLockClick,fe=E.orientation,ke=void 0===fe?"portrait":fe,we=E.videoFallbackImage,ye=e(E,["badgeActionType","assetView","strategyType","children","color","elevation","elevationHover","isCollection","isOpenAsset","headlineLimitLines","limitContentLines","assetSponsoring","icon","mainLink","badges","competencyLabel","showBadges","showBookmark","showLock","showSkills","showAssetMeta","showProvider","showFeatured","isDisabled","noBorder","lazyloadLowQuality","layout","loading","sponsoringDetails","asset","renderAddToBookmarkButton","showMoreText","showLessText","showMoreNumOfLines","showMoreAlignment","fadeOutColor","lazyLoad","roundImages","onClick","onCompleteClick","onPictureClick","onHeadingClick","onLockClick","orientation","videoFallbackImage"]);if(!re)return null;var Ce=n(),be=l(null),Le=re.title,Ae=re.image,xe=re.provider,Te=re.duration,Ee=re.type,Se=re.interaction,je=re.id,Be=P?{duration:null==re?void 0:re.totalAssetDuration,type:null,completedStatus:null==re?void 0:re.completionPercentage,numberOfAssets:null==re?void 0:re.numberOfAssets}:I?{duration:null==re?void 0:re.eventDate,type:null==Ee?void 0:Ee.name,completedStatus:null,numberOfAssets:null}:{duration:Te,type:null==Ee?void 0:Ee.name,completedStatus:null==re?void 0:re.completionPercentage},Me=h(o({},Be)),Oe="Video"===(null==re||null===(S=re.type)||void 0===S?void 0:S.name)&&!(null!=re&&re.image),He="portrait"===ke?{height:"200px",width:"100%",minHeight:"200px",maxWidth:"100%"}:{height:"300px",width:"100%",minHeight:"300px",maxWidth:"100%"},De=i.useCallback((function(e){if(ne||oe)return null;if("function"==typeof ge&&ge(e),N){if(N.to)return Ce.push(N.to);if(N.href)return window.location.href=N.href}}),[Ce,N,ge]),Pe=i.useCallback((function(e){if(ne)return null;"function"==typeof he&&he(e)}),[he]),ze=function(e){return null!=re&&re.locked?Pe(e):De(e)},Ie=i.createElement(i.Fragment,null,i.createElement(k,null,q&&ae&&ae({title:Le,provider:xe,duration:Te,type:Ee,completed:null==Se?void 0:Se.completed,bookmarked:null==Se?void 0:Se.bookmarked,id:je})),J&&!ne&&i.createElement(r,{color:"grey4",locked:null==re?void 0:re.locked}));return i.createElement(a,t({ref:be,orientation:ke},ye),i.createElement(w,{elevationHover:D,isDisabled:(null==re?void 0:re.locked)||oe,badges:Q,noBorder:te,borderColor:"grey2"},i.createElement(s,{orientation:ke,"aria-orientation":"horizontal"},i.createElement(y,t({lazyLoad:pe,loading:!!ne,assetImage:Oe?we:Ae,rounded:ve,onPictureClick:ze,title:Le},He),ee&&!ne&&i.createElement(C,{loading:ne,featuredLabel:null==re?void 0:re.featureLabel,color:"grey5"}),M===v.timebox&&!ne&&i.createElement(b,{timebox:null==re?void 0:re.timebox,color:"white"})),d(ke)&&i.createElement(m,{color:"primary",height:"xs"}),i.createElement(c,{"aria-orientation":"horizontal"},Ie,!ne&&(null==W?void 0:W.isSponsored)&&i.createElement(f,{layout:"tile",sponsoringDetails:W}),i.createElement(u,null,i.createElement(L,{loading:!!ne,provider:null!==(j=null==xe?void 0:xe.name)&&void 0!==j?j:void 0,isDisabled:oe,isCompact:!Z,description:Le,onHeadingClick:ze,skills:null==re?void 0:re.competencies,showSkills:R,limitContentLines:V})),!d(ke)&&i.createElement(p,null,i.createElement(A,{lineHeight:19,fontSize:14,fontColor:"grey5",loading:ne,fadeOutBackgroundColor:ue,labelAlignment:ce,fadeOutHeight:35,numOfLines:me||4,showMoreText:se||"Show more",showLessText:de||"Show less"},(null==re?void 0:re.description)&&i.createElement(T,{tag:"p",padding:"0",margin:"xxs 0",color:"grey5",display:"flex"},null==re?void 0:re.description.replace(/(<([^>]+)>)/gi,"")))),O,X&&i.createElement(x,{isCompact:P,loading:!!ne,alignSelf:"flex-end",isDisabled:oe,onClick:ze,metaItems:Me})))))};export{E as AssetTileGridItem};
//# sourceMappingURL=AssetTileGridItem.js.map
